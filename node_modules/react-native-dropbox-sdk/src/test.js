const Dropbox = require("./index.js");

function downloadFile() {
  var ACCESS_TOKEN = "EMvpHXRwa74AAAAAAAADRmPBByiO1NXknyBF4darKSw9syGs3TVyJzBvHMRp-Zum";
  var SHARED_LINK = "/test.bcup";
  var dbx = new Dropbox({ accessToken: ACCESS_TOKEN });
  // dbx.sharingGetSharedLinkFile({url: SHARED_LINK})
  dbx.filesDownload({path: "/test.bcup"})
    .then(function(data) {
      console.log("Data", data.fileBinary.toString("utf8"));
      // var downloadUrl = URL.createObjectURL(data.fileBlob);
      // var downloadButton = document.createElement('a');
      // downloadButton.setAttribute('href', downloadUrl);
      // downloadButton.setAttribute('download', data.name);
      // downloadButton.setAttribute('class', 'button');
      // downloadButton.innerText = 'Download: ' + data.name;
      // document.getElementById('results').appendChild(downloadButton);
    })
    .catch(function(error) {
      console.error(error);
    });
  return false;
}

downloadFile();
